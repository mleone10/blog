<!doctype html><html><head><link rel=stylesheet href=/css/ditalini.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><title>Mario Leone | Managing Route 53 Records with Terraform and GitHub Actions</title></head><body><nav class="mainNav fullWidth"><h1><a href=https://mleone.dev>Mario Leone</a></h1><ul><li><a href=/about/>About Me</a></li><li><a href=https://mleone.dev/tags/>Tags</a></li></ul></nav><main><article class="single h-entry"><header><h2><a class="p-name u-url" href=https://mleone.dev/posts/core-infra-route53/>Managing Route 53 Records with Terraform and GitHub Actions</a></h2><span class=byline><a class="p-author h-card" href=https://mleone.dev>Mario Leone</a>
&#183;&nbsp;<time class=dt-published datetime=2023-06-21T00:00:00+0000>
June 21, 2023</time>
&#183;
<a class=p-category href=https://mleone.dev/tags/aws/>AWS</a>, <a class=p-category href=https://mleone.dev/tags/terraform/>Terraform</a>, <a class=p-category href=https://mleone.dev/tags/github-actions/>GitHub Actions</a></span></header><div class=e-content><p>My domain (mleone.dev) is now using AWS&rsquo;s name servers, so future development efforts shouldn&rsquo;t need to touch Squarespace. I took the opportunity to spin up some basic IaC in a new repo, <a href=https://github.com/mleone10/core-infra>core-infra</a>. This repo will host any common infrastructure going forward, such as domains and reusable security groups.</p><p>In setting up that repo&rsquo;s automation (so that pushes to the main branch automatically deploy to AWS), I experimented with using GitHub as an IAM identity provider. GitHub&rsquo;s own <a href=https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services>documentation</a> is pretty thorough in that regard, though I had some trouble with the role&rsquo;s trust policy. Now, though, I don&rsquo;t need to use an IAM user for GitHub Action authentication.</p><p>I also switched my homelab over to use Route 53 for Dynamic DNS. Alistair Mackay&rsquo;s <a href=https://github.com/fireflycons/pfSense-aws-DynamicDNS>instructions</a> for doing so were helpful, though I just configured a new IAM policy manually instead of using his CFT.</p></div></article></main><footer class="fullWidth h-card"><img class=u-photo src=/profilePic.jpeg>
<span><p class=p-note>Hi, I'm Mario! Software engineering manager, actor, DIY-enthusiast. Trying new things every day and living life to the fullest!</p><p>&copy;
2023
<a class="p-name u-url u-uid" href=https://mleone.dev>Mario Leone</a>
<a class=u-url rel=me href=https://github.com/mleone10><i class="fa-brands fa-github"></i></a><a class=u-url rel=me href=https://linkedin.com/in/mleone5244><i class="fa-brands fa-linkedin"></i></a><a class=u-url rel=me href=https://hachyderm.io/@mleone><i class="fa-brands fa-mastodon"></i></a></p></span></footer></body></html>